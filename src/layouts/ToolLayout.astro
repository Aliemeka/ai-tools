---
import BaseLayout from "./BaseLayout.astro";

export interface Props {
  title: string;
  description: string;
  category: string;
  pricing: string;
  source: string;
  logo: string;
  website: string;
  rating: number;
  tags: string[];
}

const {
  title,
  description,
  category,
  pricing,
  source,
  logo,
  website,
  rating,
  tags,
} = Astro.props;
---

<BaseLayout title={title} description={description}>
  <!-- Breadcrumbs -->
  <div class='max-w-4xl mx-auto px-4 pt-6 pb-2'>
    <nav class='flex' aria-label='Breadcrumb'>
      <ol class='inline-flex items-center space-x-1 md:space-x-3'>
        <li class='inline-flex items-center'>
          <a
            href='/'
            class='inline-flex items-center text-sm font-medium text-slate-700 hover:text-fuchsia-600 transition-colors'
          >
            <svg
              class='w-3 h-3 mr-2.5'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='currentColor'
              viewBox='0 0 20 20'
            >
              <path
                d='m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z'
              ></path>
            </svg>
            Home
          </a>
        </li>
        <li>
          <div class='flex items-center'>
            <svg
              class='w-3 h-3 text-slate-400 mx-1'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='none'
              viewBox='0 0 6 10'
            >
              <path
                stroke='currentColor'
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='m1 9 4-4-4-4'
              ></path>
            </svg>
            <a
              href='/tools'
              class='ml-1 text-sm font-medium text-slate-700 hover:text-fuchsia-600 md:ml-2 transition-colors'
              >Tools</a
            >
          </div>
        </li>
        <li aria-current='page'>
          <div class='flex items-center'>
            <svg
              class='w-3 h-3 text-slate-400 mx-1'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='none'
              viewBox='0 0 6 10'
            >
              <path
                stroke='currentColor'
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='m1 9 4-4-4-4'
              ></path>
            </svg>
            <span class='ml-1 text-sm font-medium text-slate-500 md:ml-2'
              >{title}</span
            >
          </div>
        </li>
      </ol>
    </nav>
  </div>

  <div class='max-w-4xl mx-auto px-4 pb-12'>
    <div
      class='bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden'
    >
      <div class='p-8'>
        <div class='flex items-start justify-between mb-6'>
          <div class='flex items-center space-x-4'>
            <img
              src={logo}
              alt={title}
              class='w-16 h-16 rounded-xl object-contain object-center'
            />
            <div>
              <h1 class='text-3xl font-bold text-slate-900 heading'>{title}</h1>
              <p class='text-slate-600 mt-1'>{description}</p>
            </div>
          </div>
          <div class='flex items-center space-x-2'>
            <span class='text-yellow-500'>‚≠ê</span>
            <span class='font-semibold'>{rating}</span>
          </div>
        </div>

        <div class='flex flex-wrap gap-2 mb-6'>
          <span
            class={`badge ${pricing === "free" ? "badge-free" : pricing === "freemium" ? "badge-freemium" : "badge-paid"}`}
          >
            {pricing}
          </span>
          <span
            class={`badge ${source === "open-source" ? "badge-open-source" : "badge-closed-source"}`}
          >
            {source}
          </span>
          <span class='badge bg-slate-100 text-slate-700'>{category}</span>
        </div>

        <div class='flex flex-wrap gap-2 mb-6'>
          {
            tags.map((tag) => (
              <span class='px-2 py-1 bg-fuchsia-50 text-fuchsia-700 rounded-md text-sm'>
                #{tag}
              </span>
            ))
          }
        </div>

        <div class='border-t border-slate-200 pt-6'>
          <div
            class='prose prose-slate max-w-none prose-headings:text-2xl prose-headings:font-semibold prose-h1:text-slate-900 prose-h2:text-slate-900 prose-h3:text-slate-900 prose-a:text-fuchsia-600 hover:prose-a:text-fuchsia-700'
          >
            <slot />
          </div>
        </div>

        <div class='mt-8 pt-6 border-t border-slate-200'>
          <a
            href={website}
            target='_blank'
            rel='noopener noreferrer'
            class='inline-flex items-center px-6 py-3 bg-fuchsia-600 text-white font-medium rounded-xl hover:bg-fuchsia-700 transition-colors shadow-lg hover:shadow-xl'
          >
            Visit Website
            <svg
              class='ml-2 w-4 h-4'
              fill='none'
              stroke='currentColor'
              viewBox='0 0 24 24'
            >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14'
              ></path>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
